<VirtualHost *:80>
	DocumentRoot "/srv/sites/clients/detector_dearapi_com/src/www"
	ServerName detector.api


	# live manipulator repo for dev
	Alias "/js/manipulator/src" "/srv/sites/clients/manipulator/src"

	<Directory "/srv/sites/clients/detector_dearapi_com/src/www">
		ErrorDocument 404 /404.php
	</Directory>

	# set custom log for individual log files
    CustomLog "/var/log/apache2/detector_dearapi_com_access_log" combined

	# include path for php
	SetEnv "LOCAL_PATH" "/srv/sites/clients/detector_dearapi_com/src"
	SetEnv "FRAMEWORK_PATH" "/srv/sites/clients/detector_dearapi_com/submodules/janitor/src"
	# SetEnv "FRAMEWORK_PATH" "/srv/sites/clients/janitor/src"


	# reference to backend interface
	Alias "/janitor" "/srv/sites/clients/detector_dearapi_com/submodules/janitor/src/www"

	# basic system admin controllers
	Alias "/admin/cms" "/srv/sites/clients/detector_dearapi_com/submodules/janitor/src/www/cms.php"
	Alias "/admin/user" "/srv/sites/clients/detector_dearapi_com/submodules/janitor/src/www/user.php"
	Alias "/admin/tag" "/srv/sites/clients/detector_dearapi_com/submodules/janitor/src/www/tag.php"

	# setup janitor autoconversion
	Alias "/autoconversion" "/srv/sites/clients/detector_dearapi_com/submodules/janitor/src/autoconversion"
	Alias "/images" "/srv/sites/clients/detector_dearapi_com/src/library/public"
	Alias "/videos" "/srv/sites/clients/detector_dearapi_com/src/library/public"
	Alias "/audios" "/srv/sites/clients/detector_dearapi_com/src/library/public"
	<Directory "/srv/sites/clients/detector_dearapi_com/src/library/public">
		ErrorDocument 404 /autoconversion/index.php
	</Directory>


	# setup local css+js mergers
	Alias "/js/lib/build" "/srv/sites/clients/detector_dearapi_com/submodules/js-merger"
	Alias "/css/lib/build" "/srv/sites/clients/detector_dearapi_com/submodules/css-merger"
	Alias "/admin/js/lib/build" "/srv/sites/clients/detector_dearapi_com/submodules/js-merger"
	Alias "/admin/css/lib/build" "/srv/sites/clients/detector_dearapi_com/submodules/css-merger"
</VirtualHost>